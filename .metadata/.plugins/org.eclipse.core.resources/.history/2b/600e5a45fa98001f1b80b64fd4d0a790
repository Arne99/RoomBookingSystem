package suncertify.db;

import java.io.DataInput;
import java.io.DataInputStream;
import java.io.IOException;

public class DataFileFormatReader {

    private final int expectedMagicCookie;

    public DataFileFormatReader(int expectedMagicCookie) {
	this.expectedMagicCookie = expectedMagicCookie;

    }

    public DataFormatInformation extractDataFileFormat(DataInput input)
	    throws IOException, InvalidDataFormatException {

	int magicCookie = input.readInt();
	if (expectedMagicCookie != magicCookie) {
	    throw new InvalidDataFormatException();
	}

	DataFormatInformation formatInformation = new DataFormatInformation(
		magicCookie);

	return formatInformation;
    }
}
